<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 2 task 6</title>
</head>
<body>
<script>
    'use strict';
    /*
    * 6**. (Это задание не является частью курса, можете его не делать, оно для тех кому мало
    *      обычных заданий, требует времени и возможно гугления, делайте по желанию.)
    *      Программа должна спросить у пользователя число, это будет количество денег, которое он хочет
    *      положить на счет в банке. Затем программа должна выдать примерно такое сообщение:
    *      "Ваша сумма в 101 рубль успешно зачислена." - в случае если пользователь ввел 101.
    *      "Ваша сумма в 10020 рублей успешно зачислена." - в случае если пользователь ввел 10020.
    *      "Ваша сумма в 120104 рубля успешно зачислена." - в случае если пользователь ввел 120104.
    *      То есть ваша задача выводить слово «рубль» в правильном падеже, в зависимости от введенного числа.
    */

    /**
     * Функция возвращает правильный падеж слова "рубль" в зависимости от переданного числа.
     * @param {number} value - количество рублей.
     * @returns {string} слово "рубль" в правильном падеже.
     */
    function declensionWords(value) {
        const lastDigit = getNumberByEndIndex(value, 1);
        const beforeLastDigit = getNumberByEndIndex(value, 2);
        if (beforeLastDigit === 1 || lastDigit === 0 || lastDigit >= 5 && lastDigit <= 9) {
            return 'рублей';
        } else if (lastDigit >= 2 && lastDigit <= 4) {
            return 'рубля';
        }
        return 'рубль';
    }

    /**
     * Функция для поиска цифры в числе по ее позиции начиная с конца.
     * @param {number} num - число в котором осуществляется поиск.
     * @param {number} endIndex - позиция цифры которую нужно найти, отсчет начинается с конца.
     * @returns {number|null}
     */
    function getNumberByEndIndex(num, endIndex) {
        num = String(num);
        let digit = num.charAt(num.length - endIndex);
        if (digit !== '') {
            return Number(digit);
        }
        return null;
    }

    const deposit = parseInt(prompt('Введите сумму которую хотите положить на счет:'));

    alert(`Ваша сумма в ${deposit} ${declensionWords(deposit)} успешно зачислена`);
</script>
</body>
</html>
